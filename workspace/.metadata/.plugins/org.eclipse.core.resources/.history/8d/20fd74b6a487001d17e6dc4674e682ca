function animateValue(id, start, end, step,duration) {
    if (start === end) return;
    let range = end - start,
        current = start,
        increment = end > start? step : -step,
        stepTime = Math.abs(Math.floor(duration / range)),
        obj = document.querySelector("#"+id);
    var timer = setInterval(function() {
		
        current += increment;
        if (current >= end) {
			obj.innerHTML = end;
			clearInterval(timer);
			return;
		}
        obj.innerHTML = current;
        if (current == end) {
            clearInterval(timer);
        }
    }, stepTime);
}

$.ajax({
	url: "/Vortex/UserTable",
	method: "POST",
	datatype: "json",
	success: function(response) {
		let totalUsers = 0,
		 	totalMales = 0,
		 	totalFemales = 0,
		 	totalGames = 0,
		 	totalMedia = 0,
		 	totalDeveloper = 0;
		for(bean of response) {
			totalUsers += 1;
			if (bean.gender.trim() === "male") totalMales += 1;
			if (bean.gender.trim() === "female") totalFemales += 1;
		}
		animateValue("userCounts", 0, totalUsers, 1230, 1);
	},
	error: (err) => {
		console.log(err);
	}
})

